from django.core.management.base import BaseCommand
from core.models import ContactInfo, PageContent


class Command(BaseCommand):
    help = 'Создает начальные данные для ContactInfo и PageContent'

    def handle(self, *args, **options):
        # Создаем контактную информацию
        contact_info, created = ContactInfo.objects.get_or_create(
            company_name='МедДиагностика',
            defaults={
                'address': 'г. Москва, ул. Медицинская, д. 10, офис 5',
                'phone': '+7 (495) 123-45-67',
                'email': 'info@meddiagnostics.ru',
                'working_hours': 'Пн-Пт: 9:00 - 20:00\nСб: 10:00 - 18:00\nВс: Выходной',
                'is_active': True,
            }
        )
        
        if created:
            self.stdout.write(
                self.style.SUCCESS('✓ Создана контактная информация')
            )
        else:
            self.stdout.write(
                self.style.WARNING('⚠ Контактная информация уже существует')
            )

        # Создаем контент для страницы "О компании"
        about_content, created = PageContent.objects.get_or_create(
            page='about',
            defaults={
                'title': 'О компании МедДиагностика',
                'content': '''
                <h3>Добро пожаловать в МедДиагностика!</h3>
                <p>Мы - современный медицинский диагностический центр, специализирующийся на предоставлении качественных диагностических услуг с использованием передовых технологий и оборудования экспертного класса.</p>
                
                <h4>Наша миссия</h4>
                <p>Обеспечить доступную и качественную медицинскую диагностику для всех, кто заботится о своем здоровье. Мы стремимся к тому, чтобы каждый пациент получил точный диагноз и профессиональные рекомендации.</p>
                
                <h4>Наши преимущества</h4>
                <ul>
                    <li>Современное диагностическое оборудование</li>
                    <li>Опытные и квалифицированные врачи</li>
                    <li>Быстрые результаты обследований</li>
                    <li>Комфортные условия приема</li>
                    <li>Индивидуальный подход к каждому пациенту</li>
                </ul>
                
                <h4>Почему выбирают нас</h4>
                <p>Наш центр оснащен новейшим диагностическим оборудованием, которое позволяет проводить точные и быстрые обследования. Наши специалисты имеют многолетний опыт работы и регулярно повышают свою квалификацию.</p>
                ''',
                'meta_description': 'О медицинском диагностическом центре МедДиагностика. Наша миссия, преимущества и команда специалистов.',
                'meta_keywords': 'медицинская диагностика, диагностический центр, обследование, врачи',
            }
        )
        
        if created:
            self.stdout.write(
                self.style.SUCCESS('✓ Создан контент для страницы "О компании"')
            )
        else:
            self.stdout.write(
                self.style.WARNING('⚠ Контент для страницы "О компании" уже существует')
            )

        # Создаем контент для страницы "Контакты"
        contacts_content, created = PageContent.objects.get_or_create(
            page='contacts',
            defaults={
                'title': 'Контакты - МедДиагностика',
                'content': '''
                <h3>Свяжитесь с нами</h3>
                <p>Мы всегда рады ответить на ваши вопросы и помочь записаться на прием. Вы можете связаться с нами любым удобным способом.</p>
                
                <h4>Как нас найти</h4>
                <p>Наш диагностический центр расположен в удобном месте с хорошей транспортной доступностью. Рядом есть парковка для автомобилей.</p>
                
                <h4>Режим работы</h4>
                <p>Мы работаем в удобное для вас время. Записаться на прием можно как в будние дни, так и в субботу.</p>
                
                <h4>Обратная связь</h4>
                <p>Если у вас есть вопросы или предложения, заполните форму обратной связи, и наш специалист свяжется с вами в ближайшее время.</p>
                ''',
                'meta_description': 'Контактная информация медицинского диагностического центра МедДиагностика. Адрес, телефон, email, режим работы.',
                'meta_keywords': 'контакты, адрес, телефон, режим работы, медицинский центр',
            }
        )
        
        if created:
            self.stdout.write(
                self.style.SUCCESS('✓ Создан контент для страницы "Контакты"')
            )
        else:
            self.stdout.write(
                self.style.WARNING('⚠ Контент для страницы "Контакты" уже существует')
            )

        # Создаем контент для страницы "Услуги"
        services_content, created = PageContent.objects.get_or_create(
            page='services',
            defaults={
                'title': 'Наши услуги - МедДиагностика',
                'content': '''
                <h3>Диагностические услуги</h3>
                <p>Мы предлагаем широкий спектр диагностических услуг с использованием современного оборудования и передовых методик обследования.</p>
                
                <p>Все наши услуги выполняются квалифицированными специалистами с многолетним опытом работы. Мы гарантируем точность результатов и профессиональный подход к каждому пациенту.</p>
                ''',
                'meta_description': 'Диагностические услуги медицинского центра МедДиагностика. Полный перечень услуг и цены.',
                'meta_keywords': 'диагностические услуги, медицинские услуги, обследование, диагностика',
            }
        )
        
        if created:
            self.stdout.write(
                self.style.SUCCESS('✓ Создан контент для страницы "Услуги"')
            )
        else:
            self.stdout.write(
                self.style.WARNING('⚠ Контент для страницы "Услуги" уже существует')
            )

        self.stdout.write(
            self.style.SUCCESS('\n✓ Инициализация данных завершена успешно!')
        )

